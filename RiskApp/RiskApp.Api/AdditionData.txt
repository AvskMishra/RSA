//migration commands
Add-Migration InitialCreate -Project RiskApp.Infrastructure -StartupProject RiskApp.Api -OutputDir Persistence\Migrations
Update-Database -Project RiskApp.Infrastructure -StartupProject RiskApp.Api



from package manager console
//for serilog logging
# Serilog
Install-Package Serilog
Install-Package Serilog.Sinks.Console
Install-Package Serilog.Sinks.File



//additional enrichers
Install-Package Serilog.Enrichers.Environment
Install-Package Serilog.Enrichers.Process
Install-Package Serilog.Enrichers.Thread
Install-Package Serilog.Enrichers.ClientInfo

//for open telemetry
# OpenTelemetry
Install-Package OpenTelemetry.Extensions.Hosting
Install-Package OpenTelemetry.Instrumentation.AspNetCore
Install-Package OpenTelemetry.Instrumentation.Http
Install-Package OpenTelemetry.Instrumentation.Runtime
Install-Package OpenTelemetry.Exporter.Console
Install-Package OpenTelemetry.Exporter.Open



 nerdctl run -d --name jaeger -p 16686:16686 -p 6831:6831/udp jaegertracing/all-in-one:latest
 endpoints to see all stack metrices and logs
 http://localhost:16686/search


 Install-Package Microsoft.AspNetCore.Authentication.JwtBearer       API project

 Install-Package Microsoft.AspNetCore.Identity.EntityFrameworkCore   Infrastructure
 Install-Package Microsoft.AspNetCore.Identity                       Infrastructure
 Install-Package Microsoft.IdentityModel.Tokens                      Infrastructure

  Install-Package System.IdentityModel.Tokens.Jwt                    Infrastructure


  setting env variable for identity seed
    dotnet user-secrets set "AuthSeeding:DefaultPassword" "S0mething-Str0ng!"
    dotnet user-secrets set "AuthSeeding:Users:0:Password" "Reader#456"
    dotnet user-secrets set "AuthSeeding:Users:1:Password" "Writer#789"
    dotnet user-secrets set "AuthSeeding:Enabled" "true"



dotnet ef migrations add AddIdentity --project .\src\RiskApp.Infrastructure\ --startup-project .\src\RiskApp.Api\
dotnet ef database update --project .\src\RiskApp.Infrastructure\ --startup-project .\src\RiskApp.Api\


Add-Migration AddIdentity -Context RiskAppDbContext -Project RiskApp.Infrastructure -StartupProject RiskApp.Api -OutputDir Persistence\Migrations
Update-Database -Context RiskAppDbContext -Project RiskApp.Infrastructure -StartupProject RiskApp.Api
